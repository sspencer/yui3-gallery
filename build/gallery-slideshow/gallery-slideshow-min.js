YUI.add("gallery-slideshow",function(D){var C=function(){C.superclass.constructor.apply(this,arguments);},A="SlideShow",B=D.Lang.isNumber;C.NAME=A;C.NS=A;C.HTML_PARSER={title:function(E){var F=E.one(".hd h4");return F?F.get("innerHTML"):"";},image_height:function(E){var F=E.one(".bd");return F?parseInt(F.getStyle("height"),10):null;},image_width:function(E){var F=E.one(".bd");return F?parseInt(F.getStyle("width"),10):null;}};C.ATTRS={delay:{value:5000,validator:B},images:{validator:D.Lang.isArray},animation:{validator:D.Lang.isObject,setter:function(E){if(!(E instanceof D.Anim)){E=new D.Anim(E);}E.on("end",function(){this.endTransition();},this);return E;}},image_height:{validator:B,setter:function(E){this.get("contentBox").one(".bd").setStyle("height",E);return E;}},image_width:{validator:B,setter:function(E){this.get("contentBox").one(".bd").setStyle("width",E);return E;}},title:{value:"",validator:D.Lang.isString,setter:function(E){this.get("contentBox").one(".hd h4").get("innerHTML",E);return E;}}};D.extend(C,D.Widget,{CONTENT_TEMPLATE:"<div class='yui3-slideshow-content'><div class='hd'><h4></h4></div><div class='bd'></div><div class='ft'></div></div>",createImage:function(F,G){var E=this.get("contentBox").one(".bd"),I=D.Node.create("<div class='yui3-slideshow-img'><img /></div>"),H=I.one("img");H.set("src",F.src);I.setStyle("zIndex",G);F._node=I;E.insert(I);D.later(1000,this,function(K,J){K.setXY(J.getXY());},[I,E]);return I;},renderUI:function(){var E=this.get("images"),G=this.get("contentBox"),I=this.get("title"),F=this.get("image_height"),H=this.get("image_width");if(I){G.one(".hd h4").set("innerHTML",I);}if(H){G.one(".bd").setStyle("width",H);}if(F){G.one(".bd").setStyle("height",F);}G.all(".yui3-slideshow-img").each(function(M,L,K){var J={};J.src=M.one("img").get("src");E.unshift(J);M.remove();},this);D.Array.each(E,function(L,M,K){var J=this.createImage(L,-1*M);if(M===0){this.currentImage=J;}},this);},bindUI:function(){D.later(this.get("delay"),this,"beginTransition");},setImage:function(G,E){var F=G.one("img");F.set("src",E.src);},beginTransition:function(){var E=this.get("animation");if(E){E.set("node",this.currentImage);E.run();}else{this.endTransition();}},endTransition:function(){var E=this.get("contentBox").all(".yui3-slideshow-img"),F=this.get("animation");E.each(function(H,I,K){var J=+H.getStyle("zIndex"),G=-1*K.size();if(J===-1){this.currentImage=H;}H.setStyle("zIndex",J===0?G+1:J+1);},this);E.setStyles(F.get("from"));D.later(this.get("delay"),this,"beginTransition");}});D.SlideShow=C;},"gallery-2010.03.16-20",{requires:["widget","widget-htmlparser"],optional:["anim"]});