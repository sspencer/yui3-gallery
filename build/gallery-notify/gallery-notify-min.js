YUI.add("gallery-notify",function(D){var B,C,A={INIT:"init",STARTED:"started"};C=D.Base.create("notify-message",D.Widget,[D.WidgetChild],{BOUNDING_TEMPLATE:"<li/>",CONTENT_TEMPLATE:"<em/>",CLOSE_TEMPLATE:'<span class="{class}">{label}</span>',_timer:null,initializer:function(E){this.get("boundingBox").setStyle("opacity",0);},renderUI:function(){var E=this.get("contentBox"),G=this.get("boundingBox"),F;E.setContent(this.get("message"));G.addClass(this.getClassName(this.get("flag")));if(this.get("closable")){F=D.Node.create(D.substitute(this.CLOSE_TEMPLATE,{"class":this.getClassName("close"),"label":"X"}));this.set("closeNode",F);G.append(F);}},bindUI:function(){this._bindHover();if(this.get("closable")){this._bindCloseClick();}},syncUI:function(){this.timer=new D.Timer({length:this.get("timeout"),repeatCount:1,callback:D.bind(this.close,this)});var F=this.get("boundingBox"),E=new D.Anim({node:F,to:{opacity:1},duration:0.3,on:{end:D.bind(function(){this.timer.start();},this)}}).run();},close:function(){if(this.timer){this.timer.stop();}var H=this.get("boundingBox"),E=this.get("index"),F=this.get("parent"),G=new D.Anim({node:H,to:{opacity:0},duration:0.55,on:{end:D.bind(function(){var I=new D.Anim({node:H,to:{height:0},duration:0.25,on:{end:D.bind(function(){this.remove();H.remove();},this)}}).run();},this)}}).run();},_bindCloseClick:function(){this.get("closeNode").on("click",D.bind(this.close,this));},_bindHover:function(){var E=this.get("boundingBox");E.on("mouseenter",D.bind(function(F){this.timer.pause();},this));E.on("mouseleave",D.bind(function(F){this.timer.resume();},this));}},{ATTRS:{closable:{value:true,validator:D.Lang.isBoolean},closeNode:{validator:function(E){return(E instanceof D.Node);}},message:{validator:D.Lang.isString},timeout:{value:8000},flag:{value:"notice",validator:function(E){if(D.Lang.isString(E)){switch(E){case"error":case"alert":case"notice":return true;}}return false;}}}});D.namespace("Notify").Message=C;B=D.Base.create("notify",D.Widget,[D.WidgetParent,D.EventTarget],{CONTENT_TEMPLATE:"<ul/>",_childConfig:{},initializer:function(E){this.publish(A.INIT,{broadcast:1});this.publish(A.STARTED,{broadcast:1});this.fire(A.INIT);this._buildChildConfig();},syncUI:function(){this.fire(A.STARTED);},addMessage:function(G,E,F){var E=E||"notice";this._buildChildConfig(G,E);if(F){return this.add(this._childConfig,F);}if(this.get("prepend")){return this.add(this._childConfig,0);}return this.add(this._childConfig);},addMessages:function(G){for(var H in G){if(D.Lang.isArray(G[H])){for(var F=0,E=G[H].length;F<E;F++){this.addMessage(G[H][F],H);}}}},_buildChildConfig:function(F,E){this._childConfig={closable:this.get("closable"),timeout:this.get("timeout"),message:F,flag:E};}},{ATTRS:{closable:{value:true,validator:D.Lang.isBoolean},defaultChildType:{value:D.Notify.Message},prepend:{value:false,validator:D.Lang.isBoolean},timeout:{value:8000}},EVENTS:A});D.Notify=B;},"gallery-2010.05.05-19-39",{requires:["base","anim","substitute","widget","widget-parent","widget-child","gallery-timer","event-mouseenter"]});